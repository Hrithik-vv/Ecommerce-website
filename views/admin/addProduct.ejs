<%- include("../../views/partials/admin/adminHeader.ejs") %>
<head>
  <style>
    .content-header .content-title {
      font-size: 2rem;
      font-weight: 700;
      color: #343a40;
    }
    .content-header {
      margin: 20px auto;
      text-align: center;
    }
  </style>
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/cropperjs/dist/cropper.min.css"
  />
</head>

<body>
  
  <div style="margin-left: 320px;margin-top: 20px;">
    <div class="content-wrapper">
      <div class="content-header">
        <div>
          <h2 class="content-title card-title">Add Products</h2>
        </div>
      </div>
      </div>
    <form id="addform" action="/admin/addproduct" method="post">
      <!-- Product Name -->
      <div class="mb-4">
        <label for="product_name" class="form-label">Product Name</label>
        <input
          type="text"
          placeholder="Type here"
          name="productName"
          class="form-control border"
          id="product_name"
        />
        <div id="productName-error" class="error-message"></div>
      </div>
    
      <!-- Brand Selection -->
      <div class="col-lg-4 mb-4">
        <label class="form-label">Brand</label>
        <select class="form-select border" name="brand">
          <option value="">Select Brand</option>
          <!-- Add options dynamically -->
        </select>
        <div id="brand-error" class="error-message"></div>
      </div>
    
      <!-- Full Description -->
      <div class="mb-4">
        <label class="form-label">Full description</label>
        <textarea
          placeholder="Type here"
          id="descriptionid"
          name="description"
          class="form-control border"
          rows="4"
        ></textarea>
        <div id="description-error" class="error-message"></div>
      </div>
    
      <!-- Pricing and Quantity -->
      <div class="row">
        <!-- Regular Price -->
        <div class="col-lg-4">
          <div class="mb-4">
            <label class="form-label">Regular price</label>
            <input
              placeholder="$"
              name="regularPrice"
              type="text"
              class="form-control border"
            />
            <div id="regularPrice-error" class="error-message"></div>
          </div>
        </div>
        <!-- Sale Price -->
        <div class="col-lg-4">
          <div class="mb-4">
            <label class="form-label">Sale price</label>
            <input
              placeholder="$"
              name="salePrice"
              type="text"
              class="form-control border"
            />
          </div>
          <div id="salePrice-error" class="error-message"></div>
        </div>
        <!-- Quantity -->
        <div class="col-lg-4">
          <div class="mb-4">
            <label class="form-label">Quantity</label>
            <input
              placeholder=""
              name="quantity"
              type="text"
              class="form-control border"
            />
            <div id="quantity-error" class="error-message"></div>
          </div>
        </div>
      </div>
    
      <!-- Color -->
      <div class="row">
        <div class="col-lg-4">
          <div class="mb-4">
            <label class="form-label">Color</label>
            <input name="color" type="text" class="form-control border" />
          </div>
          <div id="color-error" class="error-message"></div>
        </div>
      </div>
    
      <!-- Category Selection -->
      <div class="card mb-4" style="margin-top: 15px;">
        <div class="card-body">
          <div class="row gx-2 ">
            <div class="col-sm-6 mb-3">
              <label class="form-label">Category</label>
              <select class="form-select border" name="category" style="width: 150px">
                <option value="">Select Category</option>
                <% categoryInfo.forEach(category => { %>
                  <option value="<%= category._id %>"><%= category.name %></option>
                <% }) %>
              </select>
              <div id="category-error" class="error-message"></div>
            </div>
          </div>
        </div>
      </div>
    
      <!-- Image Selection -->
      <div class="card mb-2">
        <div class="card-header">
          <h4>Choose images</h4>
        </div>
        <div class="border row">
          <div id="addedImagesContainer" class="thumbnails-container"></div>
        </div>
    
        <!-- Image 1 -->
        <div class="row">
          <div class="card-body align-items-center" style="margin-bottom: 20px">
            <img src="" alt="" id="prev1" />
            <input onchange="cropper(1)" class="form-control" type="file" name="images" id="image1" accept="image/png, image/jpeg, image/jpg" />
            <div id="images-error" class="error-message"></div>
          </div>
          <div class="image-cropper d-flex align-items-center" style="display: none">
            <img src="" id="croppedImg1" alt="" />
            <button type="button" id="saveButton1" class="btn-sm btn-primary">Save</button>
          </div>
        </div>
    
        <!-- Image 2 -->
        <div class="row">
          <div class="card-body align-items-center" style="margin-bottom: 20px">
            <img src="" alt="" id="prev2" />
            <input onchange="cropper(2)" class="form-control" type="file" name="images" id="image2" accept="image/png, image/jpeg, image/jpg" />
          </div>
          <div class="image-cropper d-flex align-items-center" style="display: none">
            <img src="" id="croppedImg2" alt="" />
            <button type="button" id="saveButton2" class="btn-sm btn-primary">Save</button>
          </div>
        </div>
    
        <!-- Image 3 -->
        <div class="row">
          <div class="card-body align-items-center" style="margin-bottom: 20px">
            <img src="" alt="" id="prev3" />
            <input onchange="cropper(3)" class="form-control" type="file" name="images" id="image3" accept="image/png, image/jpeg, image/jpg" />
          </div>
          <div class="image-cropper d-flex align-items-center" style="display: none">
            <img src="" id="croppedImg3" alt="" />
            <button type="button" id="saveButton3" class="btn-sm btn-primary">Save</button>
          </div>
        </div>
    
        <!-- Image 4 -->
        <div class="row">
          <div class="card-body align-items-center" style="margin-bottom: 20px">
            <img src="" alt="" id="prev4" />
            <input onchange="cropper(4)" class="form-control" type="file" name="images" id="image4" accept="image/png, image/jpeg, image/jpg" />
          </div>
          <div class="image-cropper d-flex align-items-center" style="display: none">
            <img src="" id="croppedImg4" alt="" />
            <button type="button" id="saveButton4" class="btn-sm btn-primary">Save</button>
          </div>
        </div>
      </div>
    
      <input type="hidden" id="photo1" name="image1" />
      <input type="hidden" id="photo2" name="image2" />
      <input type="hidden" id="photo3" name="image3" />
      <input type="hidden" id="photo4" name="image4" />
    
      <button class="btn btn-md rounded font-sm hover-up" type="submit">
        Publish
      </button>
    </form>
    
  </div>
</body>

<script src="https://cdn.jsdelivr.net/npm/cropperjs/dist/cropper.min.js"></script>
<%- include("../../views/partials/admin/adminFooter.ejs") %>